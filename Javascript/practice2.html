<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Javascript - ToDoList</title>
    <style>
        select{
            width: 15em;
        }
        div{
            padding-bottom: 0.25em;
        }
    </style>
</head>
<body>
    <div>
        <input type="text" class="input" placeholder="Name" id="input">
        <input type="button" id="input" class="button-white" value="Add" onclick="Add()">
    </div>
    
    <div>
        <input type="button" class="button-white" value="Remove" onclick="Remove()">
        <input type="button" class="button-white" value="Remove All" onclick="RemoveAll()">
        <input type="button" class="button-white" value="Sort" onclick="Sort()">
    </div>
    <div>
        <select id="tasks" multiple >
            
        </select>
    </div>

    <script type="text/javascript">
        var TasksList = new Array()
        function Add(){
            taskname = document.getElementById("input")
            if(taskname.value == "") return
            TasksList.push(taskname.value) 
            refreshList();
            taskname.value = ""          
        }
        function Remove(){
            selected = document.getElementById("tasks").selectedIndex
            TasksList.splice(selected, 1)
            refreshList();
            //console.log(TasksList)
        }
        function RemoveAll(){
            var list = document.getElementById("tasks");
            list.options.length = 0
            TasksList.length = 0;
            //console.log(list.options.length, TasksList.length)
        }
        function Sort(){
            TasksList.sort()
            refreshList()
        }

        function refreshList(){
            //clear list
            list = document.getElementById("tasks")
            list.innerHTML = ""
            
            
            //re-add items from array
            for (i = 0; i < TasksList.length; i++){
                var option = document.createElement("option")
                option.text = TasksList[i]
                list.options[i] = option
            }
        }
    </script>
</body>
</html>